<!DOCTYPE html>
<html>
<!-- this is index.html-->

<head>
    <title>Welcome to PawFridge!</title>
    <link rel="stylesheet" href="./styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<script>
    let selectedUserID = 0;
  
    function fetchUserIDs() {
      fetch('/user-ids')
        .then(response => response.json())
        .then(data => {
          var userList = document.getElementById("user-list");
          userList.innerHTML = ""; // Clear existing content
  
          for (var i = 0; i < data.length; i++) {
            var optionItem = document.createElement("option");
            optionItem.textContent = data[i].user_id;
            optionItem.value = data[i].uid;
            userList.appendChild(optionItem);
          }
        })
        .catch(err => console.error('Error fetching user IDs:', err));
    }
$(window).on("load",function() {  
  console.log("Window loaded");
    document.getElementById("user-list").addEventListener("change", function() {
      selectedUserID = this.value;
      console.log("Selected User ID:", selectedUserID);
    });
})
</script>

<script>
  let selectedFridgeID = 0;

  function fetchFridgeIDs() {
    fetch('/fridge-ids')
      .then(response => response.json())
      .then(data => {
        var fridgeList = document.getElementById("fridge-list");
        userList.innerHTML = ""; // Clear existing content

        for (var i = 0; i < data.length; i++) {
          var optionItem = document.createElement('option2');
          optionItem.textContent = data[i].fridge_name;
          userList.appendChild(optionItem);
        }
      })
      .catch(err => console.error('Error fetching Fridge IDs:', err));
  }
$(window).on("load",function() {  
  document.getElementById("fridge-list").addEventListener("change", function() {
    selectedUserID = this.value;
    console.log("Selected Fridge ID:", selectedFridgeID);
  });
})
</script>

<script>
        $(document).ready(fetchUserIDs);
        /* document.body.addEventListener('load', fetchUserIDs); */
        console.log("fetchUserIDs preloaded")
    </script>
<script>
        $(document).ready(fetchFridgeIDs);
        console.log("fetchFridgeIDs preloaded")
    </script>
</head>

<body>

    <div class="navbar">
            <a href="#home">Home</a>
            <a href="#about">About...</a>
            <a href="#contact">Contact</a>
    </div>
    <div class="grid-container">
        <div class="welcome_card">
            <h1>Welcome to PawFridge</h1>
            <p>â€“ the convenient and practical solution to managing what's in your fridge. 
            <br>stretch your paw(s) today, and no more wasted food or forgotten items!</p>
        </div>
    </div>

    <div class="grid-container">
        <div class="card1">
            <h3>Let's get started ...</h3>
            <p>Choose a user below:</p>
                <select id="user-list"></select>
                            <p><br>or sign up as a new user:</p>
            <form action="/adduser" method="post">
                <input type="text" name="user_id" placeholder="Enter your name">
                <input type="text" name="email" placeholder="Enter your email (optional)">
                <button class="plan-button" type="submit">Sign up</button>
              </form>
        </div>

      </div>
    <!-- Add other sections here -->

    <div class="grid-container">
      <div class="card2">
          <h3>Choose a fridge below:</h3>
              <select id="fridge-list"></select>
              
          <p><br>or add a new fridge:</p>
          <form action="/addfridge" method="post">
              <input type="text" name="fridge_name" placeholder="Enter the name to identify the fridge">
              <button class="plan-button" type="submit">Add</button>
            </form>
      </div>
    </div>

    <div class="grid-container">
        <div class="card3">
            <h3>Here's the contents of your fridge</h3>
                <select id="fridge-list"></select>
                  
            <p>add a food item:</p>
              <form action="/addfood" method="post">
                  <input type="text" name="fridge_name" placeholder="Enter the name to identify the fridge">
                  <button class="plan-button" type="submit">Sign up</button>
                </form>
          </div>
    
    </div>
   
    <div class="footer">
        <p>&copy; PawFridge. All rights reserved.</p>
        <p>Disclaimer:
            This website is created for learning purposes only. The information provided here should not be considered professional advice. Please note that we make no guarantees regarding the accuracy, completeness, or reliability of the contents of this website. Any actions you take based on the contents of this website are at your own risk. We are not liable for any losses or damages incurred from the use of this website.</p>
    </div>

</body>
</html>
